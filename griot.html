<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title> GRIOT </title>
    <style>

        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Anton&display=swap');
       
        *{
            cursor: none !important;
            margin:0;
            padding:0;
            box-sizing: border-box;    
        }

        body {
            margin: 0;
            background-color: white;
            overflow: hidden;
            
        }

        #intro-overlay{
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: url('np.jpg') center center / cover no-repeat;
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeOutOverlay 4s ease 2s forwards;
        }

        #intro-text{
            font-family: 'Anton', Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
            color: #ff2c2c;
            font-size: 30vw;
            opacity: 0;
            animation: fadeInText 1s ease-in forwards;
            animation-delay: 0.5s;
        }

        @keyframes fadeInText{
            to{
                opacity: 1;
            }
        }

        @keyframes fadeOutOverlay{
            to{
                opacity: 0;
                pointer-events: none;
            }
        }
    
    
        .topnav{
            font-family: 'Roboto Mono', monospace;
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: white /*rgba(240, 248, 255, 0.3)*/;
            border-radius: 30px;
            padding: 12px 24px;
            transition: background-color 0.3s ease;
            z-index: 2000;
            backdrop-filter: blur(12px);
            /*-webkit-backdrop-filter: blur(12px);
            box-shadow: 1 4px 30px rgba(0, 0, 0, 0.1); */
            font-size: 11.5px;
            
        }
        .topnav a {
            font-family: 'Roboto Mono', monospace;
            color: #333;
            padding: 8px 12px;
            text-decoration: none;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .topnav a:hover{
            font-family: 'Roboto Mono', monospace;
            color: #ff0101;
            border-radius: 6px;
        }

        .card{
            position: absolute;
            width: 300px;
            height: 300px;
            border: 10px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            top:0;
            left:0;
            opacity: 0;
            --rotation: 0deg;
            transform: scale(1.5) translateY(0) rotate(0deg);  
            transition: top 0.3s ease, left 0.3s ease, transform 0.8s cubic-bezier(.25, 1, .5, 1);
        }
        

        .card img{
            width: 100%;
            height: 100%;
            object-fit: cover;      
            border-radius: 10px;
        }

        .card.selected{
            --rotation: 0deg;
            transform: scale(1.05) translateY(0) rotate(0deg);
        }

        .custom-cursor{
            position:fixed;
            width:42px;
            height: 42px;
            transform: scale(.45);
            background: white;
            border-radius: 50%;
            mix-blend-mode: difference;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.2s ease;
        }

        .custom-cursor.cursor-text{
            transition: opaccity 0.2s ease;
            white-space: scale(1);
        }

        .custom-cursor.grow{
            transform: scale(1);
        }

        .text-background{
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            font-family: 'Anton', Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
            font-size: 30vw;
            font-weight: normal;
            color: #ff2c2c;
            opacity: 1;
            z-index: 0;
            pointer-events: none;
            user-select: none;
            white-space: nowrap;
        }  

        .griot-speaker{
            position: fixed;
            background-color: transparent;
            bottom: -6px;
            left: 70px;
            z-index: 0;
            transform: scale(0.1);
            transform-origin: bottom left;
        }

        .griot-speaker img{
            display: block;
            max-width: 100%;
            height: auto;
        }

        
        .scrolling-text{
            
            position: fixed;
            bottom: 0;
            width: 100%;
            background: transparent;
            backdrop-filter: blur(6px);
            overflow: hidden;
            z-index: 3000;
            height: 40px;
            display: flex;
            align-items: center;
            font-size: 14px;
            font-family: 'Roboto Mono', monospace;
        }
        
        .scrolling-inner{
            display: inline-block;
            white-space: nowrap;
            animation: scroll-left 60s linear infinite;
            padding-left: 100%;
        }


        @keyframes scroll-left{
            0% {
                transform: translateX(0%);
            }
            100%{
                transform: translateX(-100%)
            }
        }



    </style>
</head>
<body>

<div id="intro-overlay">
    <div id="intro-text">GRIOT</div>
</div>

<div class="text-background">GRIOT</div>    


<div class="custom-cursor"></div>

<div class = "topnav">
    <a class="active" href="griot.html"> home</a>
    <a href="thearchive.html">the griot</a>
    <a href="contribute.html">contribute</a>
</div>



<a href="info.html" class="griot-speaker"> 
    <img src="eye-2.png">    
</a> 


<div class="card">
    <img src="POSTCARDS/1.jpg">
</div>
<div class="card">
    <img src="POSTCARDS/2.jpg">
</div>
<div class="card">
    <img src="posts/3.png">
</div>
<div class="card">
    <img src="posts/4.png">
</div>
<div class="card">
    <img src="posts/5.png">
</div>
<div class="card">
    <img src="posts/6.png">
</div>
<div class="card">
    <img src="posts/7.png">
</div>
<div class="card">
    <img src="posts/8.png">
</div>
<div class="card">
    <img src="posts/9.png">
</div>
<div class="card">
    <img src="posts/10.png">
</div>
<div class="card">
    <img src="posts/11.png">
</div>
<div class="card">
    <img src="posts/12.png">
</div>
<div class="card">
    <img src="posts/13.png">
</div>
<div class="card">
    <img src="posts/14.png">
</div>
<div class="card">
    <img src="posts/15.png">
</div>
<div class="card">
    <img src="posts/16.png">
</div>
<div class="card">
    <img src="posts/17.png">
</div>
<div class="card">
    <img src="posts/18.png">
</div>
<div class="card">
    <img src="posts/19.png">

</div>


<div class="scrolling-text">
    <div class="scrolling-inner">
        griot . site made by isonah . griot . site made by isonah .
        </div>
</div>

<script>

    function seededRandom(seed){
        let x = Math.sin(seed) * 1000;
        return x - Math.floor(x);
    }

    const cards = document.querySelectorAll('.card');
    let frontCard = null;
    let currentZ = 2;
    const maxZ = 1999; 

    window.addEventListener('load', () =>{

        setTimeout(() => {
    
            const overlay = document.getElementById('intro-overlay');
            if (overlay){
                overlay.remove();
            }

            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;

            const centerX = windowWidth / 2;
            const centerY = windowHeight / 2;
            const scatterRadiusX = 1600;
            const scatterRadiusY = 700;
            const rotationRange = 10;
            const seed = 42;

            cards.forEach((card, i) => {
                const cardWidth = card.offsetWidth;
                const cardHeight = card.offsetHeight;

                const randX = (seededRandom(seed + i * 3.5 ) - 0.4) * scatterRadiusX;
                const randY = (seededRandom(seed + i * 3 + 1) - 0.4) * scatterRadiusY;
                const randRotation = (seededRandom(seed + i * 3 + 2) - 0.5) * rotationRange;

                const finalLeft = centerX + randX - cardWidth / 2;
                const finalTop = centerY + randY - cardHeight / 2;


                setTimeout(() => {

                    card.style.left = `${finalLeft}px`;
                    card.style.top = `${finalTop}px`;

                    card.style.transition ='none';
                    card.style.opacity ='1';
                    card.style.transform = `scale(1) rotate(${randRotation}deg)`;

                    
                }, 200 + i * 120);
            });

        },5500);
    });

    cards.forEach(card => {
    card.addEventListener('mousedown', (e) => {
        e.preventDefault();

        cards.forEach(c => c.classList.remove('selected'));
        card.classList.add('selected');

        if(card !== frontCard){
            cards.forEach(c => c.style.zIndex = 1);
            card.style.zIndex = Math.min(currentZ++, maxZ - 1);
            frontCard = card;
        }

        const shiftX = e.clientX - card.getBoundingClientRect().left;
        const shiftY = e.clientY - card.getBoundingClientRect().top;

        let startX = e.clientX;
        let startY = e.clientY;
        let moved = false;
        
        const moveAt = (pageX, pageY) => {
            card.style.left = `${pageX - shiftX}px`;
            card.style.top = `${pageY - shiftY}px`;
        };

        const onMouseMove = (e) => {
            if (Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5) {
                moved = true;
            }
            moveAt(e.pageX, e.pageY);
        };

        const onMouseUp = () => {
            document.removeEventListener('mousemove', onMouseMove);
            document.removeEventListener('mouseup', onMouseUp);

            if (!moved && card.classList.contains('griot-speaker')) {
                const url = card.getAttribute('data-link');
                if (url) window.location.href = url;
            }
        };

        document.addEventListener('mousemove', onMouseMove);
        document.addEventListener('mouseup', onMouseUp);
    });
    card.ondragstart = () => false;
});

    const cursor = document.querySelector('.custom-cursor');

        document.addEventListener('mousemove', (e) =>{
        cursor.style.left = `${e.clientX - 9}px`;
        cursor.style.top = `${e.clientY - 9}px`;
    });

    const hoverTargets = document.querySelectorAll('.topnav a, .card, .griot-speaker');

    hoverTargets.forEach(el => {
        el.addEventListener('mouseenter', () =>{
            cursor.classList.add('grow');
        });
        el.addEventListener('mouseleave', () =>{
            cursor.classList.remove('grow');
        });
    });

</script>

</body>
</html>